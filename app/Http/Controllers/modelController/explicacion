se separa toda la logica de negocio en funciones